<!DOCTYPE html>
<html>
<style>
.chessboard {
	width: 400px;
	height: 400px;
	position: relative;
}
.tile {
	width: 50px;
	height: 50px;
	position: absolute;
}
.bt {
	background-color: #8B4513;
}
.wt {
	background-color: #FFDEAD;
}

</style>
<body>

<div class="chessboard">
	<!-- Row 1 -->
	<div class="tile wt" style="top:   0px; left:   0px" id="tile00"></div>
	<div class="tile bt" style="top:   0px; left:  50px" id="tile01"></div>
	<div class="tile wt" style="top:   0px; left: 100px" id="tile02"></div>
	<div class="tile bt" style="top:   0px; left: 150px" id="tile03"></div>
	<div class="tile wt" style="top:   0px; left: 200px" id="tile04"></div>
	<div class="tile bt" style="top:   0px; left: 250px" id="tile05"></div>
	<div class="tile wt" style="top:   0px; left: 300px" id="tile06"></div>
	<div class="tile bt" style="top:   0px; left: 350px" id="tile07"></div>
	
	<!-- Row 2 -->
	<div class="tile bt" style="top:  50px; left:   0px" id="tile10"></div>
	<div class="tile wt" style="top:  50px; left:  50px" id="tile11"></div>
	<div class="tile bt" style="top:  50px; left: 100px" id="tile12"></div>
	<div class="tile wt" style="top:  50px; left: 150px" id="tile13"></div>
	<div class="tile bt" style="top:  50px; left: 200px" id="tile14"></div>
	<div class="tile wt" style="top:  50px; left: 250px" id="tile15"></div>
	<div class="tile bt" style="top:  50px; left: 300px" id="tile16"></div>
	<div class="tile wt" style="top:  50px; left: 350px" id="tile17"></div>

	<!-- Row 3 -->
	<div class="tile wt" style="top: 100px; left:   0px" id="tile20"></div>
	<div class="tile bt" style="top: 100px; left:  50px" id="tile21"></div>
	<div class="tile wt" style="top: 100px; left: 100px" id="tile22"></div>
	<div class="tile bt" style="top: 100px; left: 150px" id="tile23"></div>
	<div class="tile wt" style="top: 100px; left: 200px" id="tile24"></div>
	<div class="tile bt" style="top: 100px; left: 250px" id="tile25"></div>
	<div class="tile wt" style="top: 100px; left: 300px" id="tile26"></div>
	<div class="tile bt" style="top: 100px; left: 350px" id="tile27"></div>
	
	<!-- Row 4 -->
	<div class="tile bt" style="top: 150px; left:   0px" id="tile30"></div>
	<div class="tile wt" style="top: 150px; left:  50px" id="tile31"></div>
	<div class="tile bt" style="top: 150px; left: 100px" id="tile32"></div>
	<div class="tile wt" style="top: 150px; left: 150px" id="tile33"></div>
	<div class="tile bt" style="top: 150px; left: 200px" id="tile34"></div>
	<div class="tile wt" style="top: 150px; left: 250px" id="tile35"></div>
	<div class="tile bt" style="top: 150px; left: 300px" id="tile36"></div>
	<div class="tile wt" style="top: 150px; left: 350px" id="tile37"></div>
	
	<!-- Row 5 -->
	<div class="tile wt" style="top: 200px; left:   0px" id="tile40"></div>
	<div class="tile bt" style="top: 200px; left:  50px" id="tile41"></div>
	<div class="tile wt" style="top: 200px; left: 100px" id="tile42"></div>
	<div class="tile bt" style="top: 200px; left: 150px" id="tile43"></div>
	<div class="tile wt" style="top: 200px; left: 200px" id="tile44"></div>
	<div class="tile bt" style="top: 200px; left: 250px" id="tile45"></div>
	<div class="tile wt" style="top: 200px; left: 300px" id="tile46"></div>
	<div class="tile bt" style="top: 200px; left: 350px" id="tile47"></div>
	
	<!-- Row 6 -->
	<div class="tile bt" style="top: 250px; left:   0px" id="tile50"></div>
	<div class="tile wt" style="top: 250px; left:  50px" id="tile51"></div>
	<div class="tile bt" style="top: 250px; left: 100px" id="tile52"></div>
	<div class="tile wt" style="top: 250px; left: 150px" id="tile53"></div>
	<div class="tile bt" style="top: 250px; left: 200px" id="tile54"></div>
	<div class="tile wt" style="top: 250px; left: 250px" id="tile55"></div>
	<div class="tile bt" style="top: 250px; left: 300px" id="tile56"></div>
	<div class="tile wt" style="top: 250px; left: 350px" id="tile57"></div>
	
	<!-- Row 7 -->
	<div class="tile wt" style="top: 300px; left:   0px" id="tile60"></div>
	<div class="tile bt" style="top: 300px; left:  50px" id="tile61"></div>
	<div class="tile wt" style="top: 300px; left: 100px" id="tile62"></div>
	<div class="tile bt" style="top: 300px; left: 150px" id="tile63"></div>
	<div class="tile wt" style="top: 300px; left: 200px" id="tile64"></div>
	<div class="tile bt" style="top: 300px; left: 250px" id="tile65"></div>
	<div class="tile wt" style="top: 300px; left: 300px" id="tile66"></div>
	<div class="tile bt" style="top: 300px; left: 350px" id="tile67"></div>
	
	<!-- Row 8 -->
	<div class="tile bt" style="top: 350px; left:   0px" id="tile70"></div>
	<div class="tile wt" style="top: 350px; left:  50px" id="tile71"></div>
	<div class="tile bt" style="top: 350px; left: 100px" id="tile72"></div>
	<div class="tile wt" style="top: 350px; left: 150px" id="tile73"></div>
	<div class="tile bt" style="top: 350px; left: 200px" id="tile74"></div>
	<div class="tile wt" style="top: 350px; left: 250px" id="tile75"></div>
	<div class="tile bt" style="top: 350px; left: 300px" id="tile76"></div>
	<div class="tile wt" style="top: 350px; left: 350px" id="tile77"></div>

	<img class="tile" style="top: 150px; left: 350px" id="black-knight" src="https://upload.wikimedia.org/wikipedia/commons/2/21/Western_black_side_Knight.svg"></img>	
	<img class="tile" style="top: 150px; left: 0px" id="white-knight" src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Western_white_side_Knight.svg"></img>	
</div>

<script>

var a = 2;
var b = 1;

var posR = 3;
var posC = 0;

var targetR = 3;
var targetC = 7;

var captured = false;

function canMoveTo(r, c) {
	var dispR = Math.abs(r - posR);
	var dispC = Math.abs(c - posC);
	return !captured &&
		((dispR === a && dispC === b) ||
		(dispR === b && dispC === a));
}

function moveTo(r, c) {
	if (!canMoveTo(r,c)) {
		return false;
	}

	var srcR = posR * 50;
	var srcC = posC * 50;
	var destR = r * 50;
	var destC = c * 50;

	var piece = document.getElementById("white-knight");

	var progress = 0;
	var id = setInterval(frame, 3);
	function frame() {
		if (progress == 100) {
			clearInterval(id);
			return;
		}
		progress++;
		piece.style.top  = (srcR + (destR - srcR) * progress / 100.0) + "px";
		piece.style.left = (srcC + (destC - srcC) * progress / 100.0) + "px";
	}

	posR = r;
	posC = c;
	return true;
}

function capture() {
	if (!moveTo(targetR, targetC)) {
		return;
	}
	var progress = 0;
	var id = setInterval(frame, 3);
	function frame() {
		if (progress == 100) {
			clearInterval(id);
			return;
		}
		progress++;
		document.getElementById("black-knight").style.opacity = (100 - progress)/100.0;
	}
	captured = true;
}


for (var r = 0; r < 8; r++) {
	for (var c = 0; c < 8; c++) {
		var tile = document.getElementById("tile" + r + c);
		tile.onclick = function(evt) { 
			var id = evt.srcElement.id;
			var r = parseInt(id[4]);
			var c = parseInt(id[5]);
			moveTo(r, c);
		 };
	}
}

document.getElementById("black-knight").onclick = capture;


</script>
</body>
</html>

